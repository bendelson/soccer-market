<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The global soccer inflation</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .grid-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      max-width: 1000px;
      margin: 2em auto;
    }

    .grid-item {
      width: 100%;
      height: 500px;
    }

    .small-embed {
      max-width: 800px;
      margin: 2em auto;
    }

    .flourish-embed {
      width: 100%;
    }
  </style>
</head>
<body>
  <article>
    <h1>The global soccer inflation</h1>
    <p>Ronaldo, Messi, Neymar, Thomas MÃ¼ller: All in the US or Qatar. Throw insane figures around, how much was spent for a player.</p>
    <p>Here comes an anecdote about the soccer world and how it has changed with big money coming in.</p>

    <!-- First Flourish chart loads immediately -->
    <div class="flourish-embed flourish-chart small-embed" data-src="visualisation/24557878"></div>

    <p>More analysis or conclusion here.</p>

    <h2>The soccer inflation</h2>
    <p>This is now showing the relative development. So for every league, the average price of a player is set to the index value of 100%.</p>
    <p>Also, the graph shows the inflation, to show the relationship between soccer economics and the real world.</p>

    <!-- Placeholder for delayed charts -->
    <div id="delayed-charts" class="grid-container" style="display: none;"></div>
  </article>

  <!-- Load Flourish script once -->
  <script src="https://public.flourish.studio/resources/embed.js"></script>

  <!-- Delayed loading of charts -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        const delayed = document.getElementById('delayed-charts');
        delayed.innerHTML = `
          <div class="flourish-embed flourish-chart grid-item" data-src="visualisation/24537499"></div>
          <div class="flourish-embed flourish-chart grid-item" data-src="visualisation/24537536"></div>
          <div class="flourish-embed flourish-chart grid-item" data-src="visualisation/24531990"></div>
          <div class="flourish-embed flourish-chart grid-item" data-src="visualisation/24537456"></div>
        `;
        delayed.style.display = 'grid';
        if (window.Flourish && typeof window.Flourish.renderAll === 'function') {
          window.Flourish.renderAll();
        }
      }, 5000); // delay in milliseconds
    });
  </script>
</body>
</html>
